<?php

use think\migration\Seeder;

class ThirdCode extends Seeder
{
    /**
     * Run Method.
     *
     * Write your database seeder using this method.
     *
     * More information on writing seeders is available here:
     * http://docs.phinx.org/en/latest/seeding.html
     */
/*    
    public function run()
    {
        $key_array = ['id','setid','set_configid','thirdid','code','min','max','add_time','update_time','status','warntime','money_decimal',];
        $data_array = [
            [1,1,1,1,'992','1','5000',1496899758,NULL,0,NULL,1],
            [2,2,2,1,'993','1','5000',1496899799,NULL,0,NULL,0],
            [3,4,6,1,'107','50','6000',1496899939,1496900032,0,NULL,0],
            [4,4,29,1,'108','60','5000',1496899959,1497003414,0,NULL,0],
            [5,4,28,1,'103','70','5000',1496899974,NULL,0,NULL,0],
            [6,4,9,1,'105','80','5000',1496899992,NULL,0,NULL,0],
            [7,4,8,1,'106','90','5000',1496900007,NULL,0,NULL,0],
            [8,4,7,1,'104','100','5500',1496900023,1496900027,0,NULL,0],
            [9,4,5,1,'102','40','6000',1496900051,NULL,0,NULL,0],
            [10,4,4,1,'101','40','8000',1496900066,1496900104,0,NULL,0],
            [11,3,3,7,'993','40','6000',1496900197,NULL,0,NULL,0],
            [12,1,1,7,'101','50','6000',1496900301,NULL,11,NULL,0],
            [13,2,2,7,'1004','60','8000',1496900318,NULL,0,NULL,0],
            [14,8,24,7,'1003','50','5000',1496900333,NULL,0,NULL,0],
            [15,8,25,7,'1005','60','6000',1496900346,NULL,0,NULL,0],
            [16,6,22,7,'0025','','',1496900456,NULL,0,NULL,0],
            [17,6,21,7,'0025','','',1496900461,NULL,0,NULL,0],
            [18,6,20,7,'0025','','',1496900465,NULL,0,NULL,0],
            [19,6,19,7,'0025','','',1496900468,NULL,0,NULL,0],
            [20,6,18,7,'0025','','',1496900472,NULL,0,NULL,0],
            [21,6,17,7,'0025','','',1496900490,NULL,0,NULL,0],
            [22,6,16,7,'0025','','',1496900493,NULL,0,NULL,0],
            [23,6,15,7,'0025','','',1496900496,NULL,0,NULL,0],
            [24,6,14,7,'0025','','',1496900501,NULL,0,NULL,0],
            [25,6,13,7,'0025','','',1496900504,NULL,0,NULL,0],
            [26,6,12,7,'0025','','',1496900509,NULL,0,NULL,0],
            [27,6,11,7,'0025','','',1496900513,NULL,0,NULL,0],
            [28,5,10,7,'1006','50','5000',1496900597,NULL,0,NULL,0],
            [29,8,26,7,'1007','80','8000',1496900626,NULL,0,NULL,0],
            [30,8,27,7,'993','90','9000',1496900645,NULL,0,NULL,0],
            [31,1,1,6,'alipayd','30','5000',1496900720,NULL,0,NULL,0],
            [32,2,2,6,'weixin','50','5000',1496900734,NULL,0,NULL,0],
            [33,8,24,6,'alipaywap','50','5000',1496900756,NULL,0,NULL,0],
            [34,8,25,6,'weixin','60','6000',1496900765,NULL,0,NULL,0],
            [35,8,27,6,'tenpaywap','80','8000',1496900777,NULL,0,NULL,0],
            [36,3,3,6,'tenpay','100','9000',1496900792,NULL,0,NULL,0],
            [37,4,8,6,'CMBCHINA-NET','80','8000',1496900827,NULL,0,NULL,0],
            [38,4,6,6,'ECITIC-NET','60','6000',1496900855,NULL,0,NULL,0],
            [39,1,1,3,'alipay','60','6000',1496900917,NULL,0,NULL,0],
            [40,8,24,3,'alipay','60','6000',1496900946,NULL,0,NULL,0],
            [41,2,2,8,'1004','60','6000',1496901014,NULL,0,NULL,0],
            [42,1,1,8,'992','80','8000',1496901030,NULL,0,NULL,0],
            [43,8,25,8,'1007','','',1496901043,1496981479,0,NULL,0],
            [44,8,24,8,'1006','','',1496901054,1496981483,0,NULL,0],
            [45,5,10,8,'1008','90','9000',1496901067,NULL,0,NULL,0],
            [46,1,1,2,'ALIPAY','50','5000',1496901162,NULL,0,NULL,0],
            [47,2,2,2,'WEIXIN','60','6000',1496901173,NULL,0,NULL,0],
            [48,8,25,2,'WEIXINWAP','60','6000',1496901188,NULL,0,NULL,0],
            [49,8,24,2,'ALIPAYWAP','10','5000',1496901204,1496932572,0,NULL,0],
            [50,3,3,2,'TENPAY','80','8000',1496901223,1496901246,0,NULL,0],
            [51,8,27,2,'TENPAYWAP','80','8000',1496901238,1503651022,0,10,0],
            [52,4,7,2,'ABC','50','5000',1496901285,NULL,0,NULL,0],
            [53,4,4,2,'ICBC','80','8000',1496901309,1496901341,0,NULL,0],
            [54,4,5,2,'CCB','60','6000',1496901336,NULL,0,NULL,0],
            [55,4,28,2,'BOC','60','6000',1496901365,NULL,0,NULL,0],
            [56,4,8,2,'CMB','50','5000',1496901382,NULL,0,NULL,0],
            [57,5,10,4,'8','50','5000',1496901478,NULL,0,NULL,0],
            [58,8,26,4,'8','50','5000',1496901496,NULL,0,NULL,0],
            [59,1,1,5,'ALIPAYSCAN','80','8000',1496901565,NULL,0,NULL,0],
            [60,2,2,5,'WEIXIN','50','5000',1496901582,NULL,0,NULL,0],
            [61,2,2,9,'6001','60','6000',1496901873,1497003083,0,NULL,0],
            [62,4,6,9,'3021000','50','5000',1496901899,1503834942,1,0,0],
            [63,4,28,9,'1041000','60','6000',1496901909,NULL,0,NULL,0],
            [64,4,7,9,'1031000','50','5000',1496901921,1503834954,1,0,0],
            [65,4,5,9,'1051000','50','5000',1496901932,1503834960,1,0,0],
            [66,4,4,9,'1021000','60','6000',1496901943,1503834925,1,0,0],
            [67,4,8,9,'3085840','80','8000',1496901953,1503834888,1,0,0],
            [68,4,9,9,'3012900','50','5000',1496901964,1503834882,1,0,0],
            [69,4,29,9,'3051000','80','8000',1496901973,NULL,0,NULL,0],
            [70,1,1,9,'6003','60','6000',1496902040,1503834903,1,30,0],
            [71,8,24,9,'6008','60','6000',1496902055,NULL,0,NULL,0],
            [72,8,25,9,'6005','80','8000',1496902066,NULL,0,NULL,0],
            [73,5,10,9,'6011','80','8000',1496902086,1503834869,1,0,0],
            [74,7,23,9,'6010','100','10000',1496902101,NULL,0,NULL,0],
            [75,9,30,9,'baidu','51','5000',1497006921,1503660465,0,0,0],
        ];
        $data = [];
        foreach ($data_array as $value) {
            foreach ($key_array as $index => $key) {
                $row[$key] = $value[$index];
                $data[] = $row;
            }
            
        }
        $this->insert('vc_thirdcode', $data); 
    }
*/    
    public function run()
    {
        $filename = __DIR__ . DS . 'vc_thirdcode.sql';
        $content = file_get_contents($filename);
        $rows = explode(PHP_EOL,$content);
        foreach($rows as $row){
			$ret1 = preg_match('/^insert/', $row);
            if($ret1>0){
                $ret = db()->execute($row);
            }
        }

    }    
}