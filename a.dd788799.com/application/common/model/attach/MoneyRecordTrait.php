<?php
namespace app\common\model\attach;

trait MoneyRecordTrait
{
    /*
    public function attachToRequest(&$query){
            
        $params = request()->param();

        $query->alias('x');

        if($params['username']??''){
            
            $subsql = db()->table('gygy_members')
                    ->field('uid,username,nickname')->buildSql();
            $query->join([$subsql=> 'u'], 'u.uid = x.uid')
            ->where('nickname|username','like','%'.trim($params['username']).'%');           
        }

        if($params['startTime']??''){
            $query->where('x.created_at', '>=',$params['startTime']);
        }
        if($params['endTime']??''){
            $query->where('x.created_at', '<=',$params['endTime']);
         }

        if(!empty($params['id']??'')){
            $query->where('x.id', $params['id']);
        }

        if(method_exists($this,'attachToSelfRequest')){
           $this->attachToSelfRequest($query);
        }        
    }	
    */
}